creation:
  # if has flow==True, read a pre-trained flow from `flow_file`
  has_flow: True
  flow_file: test_9816flow.pkl
  # if has_flow is false, script will grab data from a single healpix pixel (hpix)
  # and take only a fraction of that data to train a flow i.e. flowdata = data[::frac]
  hpix: 9816
  frac: 40
  # if use_degrader, use theincompleteness degrader with pivot degrader_z_split
  use_degrader: True
  degrader_z_split: 1.0
  # number of test and train galaxies to generate from zmin<z<zmax with nzbins for pdf
  N_test_gals: 5000
  N_train_gals: 2000
  zmin: 0.0
  zmax: 3.0
  nzbins: 101
  # name of redshift column
  z_column: redshift
  # set to save true PDFs, to file `ensemble_file`
  save_ensemble: True
  ensemble_file: goldenspike_true_posteriors_qp.pq
  # Save the flow? If so, use `saved_flow_file`
  save_flow: False
  saved_flow_file: new_9816_flow.pkl
  # Creation photometry+redshift+errors files
  test_filename: test_data.parquet
  train_filename: train_data.parquet
estimation:
  base_yaml: ./configs/base.yaml
  #save all the pdfs for each code? Will be written to `results/estimation_results_base_[code]`
  save_pdfs: True
  estimation_results_base: goldspike_test
  #  name for metrics summary file
  results_file: goldenspike_metrics.txt
  # yaml config for each code we want to run:
  estimators:
    BPZ_lite:
      run_params:
        class_name: BPZ_lite
        run_name: BPZ_lite
        zmin: 0.0
        zmax: 3.0
        dz: 0.01
        columns_file: ./configs/test_bpz.columns
        spectra_file: SED/CWWSB4.list
        madau_reddening: no
        bands: ugrizy
        prior_band: i
        prior_file: hdfn_gen
        p_min: 0.005
        gauss_kernel: 0.0
        zp_errors: [0.03, 0.02, 0.02, 0.02, 0.02, 0.03]
        mag_err_min: 0.005
        inform_options:
          save_train: False
          load_model: False
          modelfile: BPZpriormodel.out
    FZBoost:
      run_params:
        class_name: FZBoost
        run_name: FZBoost
        zmin: 0.0
        zmax: 3.0
        nzbins: 301
        trainfrac: 0.75
        bumpmin: 0.02
        bumpmax: 0.35
        nbump: 20
        sharpmin: 0.7
        sharpmax: 2.1
        nsharp: 15
        max_basis: 35
        basis_system: cosine
        regression_params: 
          max_depth: 8
          objective: reg:squarederror
        inform_options:
          save_train: False 
          load_model: True
          modelfile: creation_trained_fzb_model.pkl
    trainZ:
      run_params:
        class_name: trainZ
        run_name: trainZ
        zmin: 0.0
        zmax: 3.0
        nzbins: 301
        inform_options:
          save_train: False
          load_model: False
          modelfile: trainZmodel.pkl  
evaluation:
  metrics: True
  make_ks_figure: True
  figure_directory: ./results/
  